import{C as Z,b as j,a5 as ee,v as b,h as E,l as R,d as H,g as X,a4 as se,a6 as ue,a7 as ve,a8 as J,q as y,j as w,w as de,a9 as V,e as q,i as ae,aa as O,A as re,V as oe,F as D,ab as F,ac as K,ad as Y,a0 as _e,ae as Q,L as ce,af as he,ag as me,z as Ee,ah as pe,ai as ne,aj as Ae,m as fe,t as Te,ak as ge,x as we,o as Ce,E as Ie,al as Ne}from"./C_ondSCB.js";import{b as L,e as Re}from"./zAaPBgh0.js";import{b as be}from"./y8zHJu61.js";function xe(t,e){return e}function Se(t,e,a,s){for(var m=[],c=e.length,u=0;u<c;u++)me(e[u].e,m,!0);var v=c>0&&m.length===0&&a!==null;if(v){var d=a.parentNode;Ee(d),d.append(a),s.clear(),N(t,e[0].prev,e[c-1].next)}pe(m,()=>{for(var i=0;i<c;i++){var l=e[i];v||(s.delete(l.k),N(t,l.prev,l.next)),ne(l.e,!v)}})}function Oe(t,e,a,s,m,c=null){var u=t,v={flags:e,items:new Map,first:null},d=(e&ee)!==0;if(d){var i=t;u=E?b(R(i)):i.appendChild(Z())}E&&H();var l=null,h=!1,r=se(()=>{var _=a();return ce(_)?_:_==null?[]:re(_)});j(()=>{var _=X(r),n=_.length;if(h&&n===0)return;h=n===0;let C=!1;if(E){var A=ue(u)===ve;A!==(n===0)&&(u=J(),b(u),y(!1),C=!0)}if(E){for(var T=null,g,p=0;p<n;p++){if(w.nodeType===8&&w.data===de){u=w,C=!0,y(!1);break}var f=_[p],o=s(f,p);g=ie(w,v,T,null,f,o,p,m,e,a),v.items.set(o,g),T=g}n>0&&b(J())}E||ye(_,v,u,m,e,s,a),c!==null&&(n===0?l?V(l):l=q(()=>c(u)):l!==null&&ae(l,()=>{l=null})),C&&y(!0),X(r)}),E&&(u=w)}function ye(t,e,a,s,m,c,u){var $,z,B,G;var v=(m&he)!==0,d=(m&(F|Y))!==0,i=t.length,l=e.items,h=e.first,r=h,_,n=null,C,A=[],T=[],g,p,f,o;if(v)for(o=0;o<i;o+=1)g=t[o],p=c(g,o),f=l.get(p),f!==void 0&&(($=f.a)==null||$.measure(),(C??(C=new Set)).add(f));for(o=0;o<i;o+=1){if(g=t[o],p=c(g,o),f=l.get(p),f===void 0){var le=r?r.e.nodes_start:a;n=ie(le,e,n,n===null?e.first:n.next,g,p,o,s,m,u),l.set(p,n),A=[],T=[],r=n.next;continue}if(d&&He(f,g,o,m),(f.e.f&O)!==0&&(V(f.e),v&&((z=f.a)==null||z.unfix(),(C??(C=new Set)).delete(f))),f!==r){if(_!==void 0&&_.has(f)){if(A.length<T.length){var k=T[0],I;n=k.prev;var P=A[0],M=A[A.length-1];for(I=0;I<A.length;I+=1)W(A[I],k,a);for(I=0;I<T.length;I+=1)_.delete(T[I]);N(e,P.prev,M.next),N(e,n,P),N(e,M,k),r=k,n=M,o-=1,A=[],T=[]}else _.delete(f),W(f,r,a),N(e,f.prev,f.next),N(e,f,n===null?e.first:n.next),N(e,n,f),n=f;continue}for(A=[],T=[];r!==null&&r.k!==p;)(r.e.f&O)===0&&(_??(_=new Set)).add(r),T.push(r),r=r.next;if(r===null)continue;f=r}A.push(f),n=f,r=f.next}if(r!==null||_!==void 0){for(var S=_===void 0?[]:re(_);r!==null;)(r.e.f&O)===0&&S.push(r),r=r.next;var x=S.length;if(x>0){var te=(m&ee)!==0&&i===0?a:null;if(v){for(o=0;o<x;o+=1)(B=S[o].a)==null||B.measure();for(o=0;o<x;o+=1)(G=S[o].a)==null||G.fix()}Se(e,S,te,l)}}v&&oe(()=>{var U;if(C!==void 0)for(f of C)(U=f.a)==null||U.apply()}),D.first=e.first&&e.first.e,D.last=n&&n.e}function He(t,e,a,s){(s&F)!==0&&K(t.v,e),(s&Y)!==0?K(t.i,a):t.i=a}function ie(t,e,a,s,m,c,u,v,d,i){var l=(d&F)!==0,h=(d&Ae)===0,r=l?h?_e(m):Q(m):m,_=(d&Y)===0?u:Q(u),n={i:_,v:r,k:c,a:null,e:null,prev:a,next:s};try{return n.e=q(()=>v(t,r,_,i),E),n.e.prev=a&&a.e,n.e.next=s&&s.e,a===null?e.first=n:(a.next=n,a.e.next=n.e),s!==null&&(s.prev=n,s.e.prev=n.e),n}finally{}}function W(t,e,a){for(var s=t.next?t.next.e.nodes_start:a,m=e?e.e.nodes_start:a,c=t.e.nodes_start;c!==s;){var u=fe(c);m.before(c),c=u}}function N(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Le(t,e,a=!1,s=!1,m=!1){var c=t,u="";Te(()=>{var v=D;if(u===(u=e()??"")){E&&H();return}if(v.nodes_start!==null&&(ge(v.nodes_start,v.nodes_end),v.nodes_start=v.nodes_end=null),u!==""){if(E){w.data;for(var d=H(),i=d;d!==null&&(d.nodeType!==8||d.data!=="");)i=d,d=fe(d);if(d===null)throw we(),Ce;L(w,i),c=b(d);return}var l=u+"";a?l=`<svg>${l}</svg>`:s&&(l=`<math>${l}</math>`);var h=Re(l);if((a||s)&&(h=R(h)),L(R(h),h.lastChild),a||s)for(;R(h);)c.before(R(h));else c.before(h)}})}function Ve(t,e,a,s,m,c){let u=E;E&&H();var v,d,i=null;E&&w.nodeType===1&&(i=w,H());var l=E?w:t,h;j(()=>{const r=e()||null;var _=a||r==="svg"?Ne:null;r!==v&&(h&&(r===null?ae(h,()=>{h=null,d=null}):r===d?V(h):ne(h)),r&&r!==d&&(h=q(()=>{if(i=E?i:_?document.createElementNS(_,r):document.createElement(r),L(i,i),s){E&&be(r)&&i.append(document.createComment(""));var n=E?R(i):i.appendChild(Z());E&&(n===null?y(!1):b(n)),s(i,n)}D.nodes_end=i,l.before(i)})),v=r,v&&(d=v))},Ie),u&&(y(!0),b(l))}export{Oe as a,Ve as e,Le as h,xe as i};
